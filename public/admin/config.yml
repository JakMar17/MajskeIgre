local_backend: true

backend:
  name: git-gateway
  branch: master

media_folder: public/img
public_folder: /img

collections:
  - name: "majskeIgre"
    label: "Majske igre"
    format: "json"
    files:
      - name: "organizationalTeam"
        label: "Organizacijska ekipa"
        format: "json"
        file: "content/majske-igre/organizational-team.json"
        create: true
        slug: "{{slug}}"
        fields:
          - label: "Predstavitveni opis"
            name: "intro"
            widget: "markdown"
          - label: "Člani ekipe"
            name: "members"
            widget: "list"
            fields:
              - label: "Ime in priimek"
                name: "name"
                widget: "string"
              - label: "Funkcija"
                name: "functionTitle"
                widget: "string"
              - label: "Email"
                name: "email"
                widget: "string"
              - label: "Telefon"
                name: "phone"
                widget: "string"
              - label: "Slika"
                name: "imageUrl"
                widget: "image"
  - name: "concerts"
    label: "Zabava"
    folder: "content/concerts"
    create: true
    fields:
      - label: "Ime dogodka"
        name: "title"
        widget: "string"
        required: true
      - label: "Lokacija"
        name: "location"
        widget: "string"
        required: true
      - label: "Datum dogodka"
        name: "date"
        widget: "date"
        required: true
      - label: "Slika"
        name: "imageUrl"
        widget: "image"
        required: true
      - label: "Nastopajoči"
        name: "performers"
        widget: "markdown"
  - name: "sportEvents"
    label: "Šport"
    folder: "content/sport-events"
    create: true
    fields:
      - label: "Ime discipline"
        name: "title"
        widget: "string"
        required: true
      - label: "Lokacija"
        name: "location"
        widget: "string"
        required: true
      - label: "Datum dogodka"
        name: "date"
        widget: "datetime"
        required: true
      - label: "Cena"
        name: "price"
        widget: "string"
        required: false
      - label: "Sestava ekipe"
        name: "teamFormation"
        widget: "string"
        required: false
      - label: "Prijava"
        name: "registerLink"
        widget: "string"
        required: false
      - label: "Opis"
        name: "description"
        widget: "markdown"
        required: false
      - label: "Slika"
        name: "imageUrl"
        widget: "image"
        required: false

  - name: "Slideshows"
    label: "Galerije"
    format: "json"
    folder: "content/slideshow"
    create: true
    fields:
      - name: title
        label: "Id galerije (določen s kodo - ne spreminjaj)"
        widget: string
      - name: images
        label: Slike
        widget: list
        required: false
        fields:
          - name: image
            label: Slika
            widget: image
            required: true
  - name: "BlogCategories"
    label: "Blog: kategorije"
    format: "json"
    folder: "content/blog/categories"
    create: true
    fields:
      - name: title
        label: Naslov kategorije
        widget: string
        required: true
  - name: "BlogAuthors"
    label: "Blog: avtorji"
    format: "json"
    folder: "content/blog/authors"
    create: true
    slug: "{{name}}"
    fields:
      - name: name
        label: "Ime in priimek"
        widget: string
        required: true
      - name: image
        label: Slika
        widget: image
      - name: description
        label: Opis
        widget: markdown
        required: true
  - name: "BlogPosts"
    label: "Blog: objave"
    format: "json"
    folder: "content/blog/posts"
    create: true
    slug: "{{slug}}"
    fields:
      - name: title
        label: Naslov objave
        widget: string
        required: true
      - name: subtitle
        label: Podnaslov objave
        widget: string
        required: false
      - name: author
        label: Avtor
        widget: relation
        collection: "BlogAuthors"
        value_field: "name"
        search_fields: [ "name" ]
        display_fields: [ "name", "image" ]
      - name: category
        label: Kategorija
        widget: relation
        collection: "BlogCategories"
        search_fields: [ "title" ]
        display_fields: [ "title" ]
        value_field: "title"
      - name: date
        label: Datum
        widget: datetime
        format: "X"
      - name: cover
        label: Naslovnica
        widget: image
      - name: summary
        label: Povzetek
        widget: markdown
        required: true
        buttons: [ 'bold', 'italic', 'link' ]
        editor_components: [ ]
      - name: body
        label: Vsebina
        widget: markdown
        required: true
